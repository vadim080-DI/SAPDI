{"description":"Wix Client","component":"com.sap.system.jsengine","inports":[{"name":"input","type":"string"}],"outports":[{"name":"output","type":"string"}],"iconsrc":"wix.png","config":{"$type":"http://sap.com/vflow/teched.dat649.wix_client.configSchema.json","group_id":"group1","script":"$.addGenerator(init);\r\n$.addShutdownHandler(shutdown);\r\n$.setPortCallback(\"input\",onInput);\r\n\r\n// This example shows basic usage of a subgraph\r\n// It calls a subgraph with a parameter, provide input on an input port,\r\n// check output on an ouptput port and stop the subgraph\r\n\r\nvar graphName = \"teched.dat649.internal.wix_client_subgraph\";\r\nvar graphHandle;\r\nvar state = $.config.getString(\"state\");\r\nvar groupID = $.config.getString(\"group_id\");\r\n\r\nfunction init(ctx) {\r\n    // start subgraph\r\n    graphHandle = $.instantiateGraph(graphName,\r\n        {\"state\": state,\"groupid\": groupID},\r\n        // handle subgraph output port with name 'output'\r\n        {\"output\":function(ctx,s){\r\n            $.output(\"Result:\" + s);\r\n        }}\r\n  );\r\n}\r\n\r\nfunction shutdown(ctx) {\r\n    // stop subgraph\r\n    graphHandle.stop();\r\n}\r\n\r\nfunction onInput(ctx,input) {\r\n    // write string in subraph input port with name 'input'\r\n    graphHandle.input(input);\r\n    var block = true;\r\n    graphHandle.eventLoopIteration(block);\r\n}","state":"1"}}