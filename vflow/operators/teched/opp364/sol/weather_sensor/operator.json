{"description":"weather_sensor","component":"com.sap.system.jsengine","outports":[{"name":"output","type":"string"}],"icon":"sun-o","config":{"script":"getRandom = function(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n};\r\n\r\ngetRandomInt = function(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\ngetUUID = function() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r \u0026 0x3 | 0x8);\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\nvar counter = 0;\r\nvar sendInterval = $.config.getInt(\"sendInterval\");\r\nvar deviceID = getUUID();\r\n\r\ngenerateData = function() {\r\n    var payload = deviceID + \",\"; // DeviceID\r\n    payload += getRandom(-30, 50) + \",\"; // Temperatur\r\n    payload += getRandom(40, 100); // Humidity\r\n    \r\n    return payload;\r\n};\r\n\r\n$.addTimer(sendInterval+\"ms\",doTick);\r\n\r\nfunction doTick(ctx) {\r\n    $.output(counter+\",\"+generateData());\r\n    counter++;\r\n}","sendInterval":"1000"}}